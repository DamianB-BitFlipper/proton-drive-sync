import { Client } from "pg";\nimport dotenv from "dotenv";\ndotenv.config();\n\nconst client = new Client({\n  connectionString: process.env.DATABASE_URL || "postgresql://dev:dev@localhost:5432/e2ee_meta"\n});\n\nexport async function initDb() {\n  await client.connect();\n  await client.query(`\n    CREATE TABLE IF NOT EXISTS users (\n      id TEXT PRIMARY KEY,\n      public_key TEXT,\n      created_at TIMESTAMP DEFAULT now()\n    );\n    CREATE TABLE IF NOT EXISTS repos (\n      id TEXT PRIMARY KEY,\n      owner_id TEXT,\n      drive_root TEXT,\n      created_at TIMESTAMP DEFAULT now()\n    );\n    CREATE TABLE IF NOT EXISTS wrapped_keys (\n      id TEXT PRIMARY KEY,\n      repo_id TEXT,\n      recipient_id TEXT,\n      ciphertext TEXT,\n      created_at TIMESTAMP DEFAULT now()\n    );\n  `);\n}\n\nexport default client;