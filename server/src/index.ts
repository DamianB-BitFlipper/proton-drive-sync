import Fastify from "fastify";\nimport cors from "fastify-cors";\nimport { initDb } from "./db";\nimport routes from "./routes";\nimport dotenv from "dotenv";\ndotenv.config();\n\nconst server = Fastify({ logger: true });\nserver.register(cors, { origin: true });\n\nasync function start() {\n  await initDb();\n  server.register(routes, { prefix: "/api" });\n\n  try {\n    await server.listen({ port: Number(process.env.PORT || 4000), host: "0.0.0.0" });\n    server.log.info("Server listening on 4000");\n  } catch (err) {\n    server.log.error(err);\n    process.exit(1);\n  }\n}\n\nstart();